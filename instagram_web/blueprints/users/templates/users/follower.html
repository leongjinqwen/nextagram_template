{% extends "_layout.html" %}
{% block title %}
  Follow Request
{% endblock %}
{% block content %}
<!-- other user send you request(you are idol) -->
{% if followers %}
    <h4>Follower request</h4>
    <div class="d-flex">
        {% for follower in followers %}
        <div class="card" style="width: 10rem;">
            <img class="card-img-top" src="{{follower.fan.profile_image_url}}" >
            <div class="card-body d-flex justify-content-between px-2 align-items-end" style="padding-top:5px;padding-bottom:0px;">
                <p class="card-text pt-2 pl-1" style="font-size: 16px">{{follower.fan.username}}</p>
                <form class="pb-2" action="{{url_for('users.approved',id=follower.fan.id)}}" method="POST">          
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" / >            
                    <input type="submit" class="btn-sm mt-2 btn-outline-success" value="Approve"/>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <h5 class="text-muted">You don't have any follow request.</h5>
{% endif %}
<!-- your send other user request that pending approval(you are fan) -->
{% if idols %}
    <h4>Pending approval request</h4>
    <div class="d-flex">
        {% for idol in idols %}
        <div class="card" style="width: 10rem;">
            <img class="card-img-top" src="{{idol.idol.profile_image_url}}">
            <div class="card-body d-flex justify-content-between px-2 align-items-end" style="padding-top:5px;padding-bottom:0px;">
                <p class="card-text pt-2 pl-1" style="font-size: 16px">{{idol.idol.username}}</p>
                <form class="pb-2" action="{{url_for('users.unfollow',id=idol.idol.id)}}" method="POST">          
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" / >            
                    <input type="submit" class="btn-sm mt-2 btn-outline-danger" value="Cancel"/>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <h5 class="text-muted">You don't have any pending approval request.</h5>
{% endif %}
{% endblock %}